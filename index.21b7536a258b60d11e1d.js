(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}var n=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._template=n,this._handleCardClick=r}var n,r;return n=e,(r=[{key:"_handleRemoveCard",value:function(){this._element.remove()}},{key:"_getTemplate",value:function(){return document.querySelector(this._template).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._elementImage=this._element.querySelector(".element__image"),this._elementImage.src=this._link,this._elementImage.alt=this._name,this._element.querySelector(".element__title").textContent=this._name,this._likeButton=this._element.querySelector(".element__like-button"),this._cardDeleteButton=this._element.querySelector(".element__delete-button"),this._fullPicturePopupButton=this._element.querySelector(".popup__fp-button"),this._setEventListeners(),this._element}},{key:"_toggleLike",value:function(){this._likeButton.classList.toggle("element__like-button_active")}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){e._toggleLike()})),this._fullPicturePopupButton.addEventListener("click",(function(){e._handleCardClick(e._link,e._name)})),this._cardDeleteButton.addEventListener("click",(function(){e._handleRemoveCard()}))}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===r(t)?t:String(t)}var u=function(){function e(t){var n,r,o,u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,o=function(e){"Escape"===e.key&&u.close()},(r=i(r="_handleEscClose"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this._popup=t}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popupCloseButton=this._popup.querySelector(".popup__close-button"),this._popupCloseButton.addEventListener("click",(function(){return e.close()})),this._popup.addEventListener("mousedown",(function(t){t.target.classList.contains("popup_opened")&&e.close()}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===l(o)?o:String(o)),r)}var o}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},a.apply(this,arguments)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(r);if(o){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e,t){var n,r=t.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._handleFormSubmit=r,n._form=e.querySelector(".popup__form"),n._inputList=e.querySelectorAll(".popup__input"),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;a(p(u.prototype),"setEventListeners",this).call(this),this._popup.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues()),e.close()}))}},{key:"close",value:function(){a(p(u.prototype),"close",this).call(this),this._form.reset()}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(u);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===y(o)?o:String(o)),r)}var o}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},v.apply(this,arguments)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(r);if(o){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupFullPic=e.querySelector(".popup-img__image"),t._popupFigcaption=e.querySelector(".popup-img__figcaption"),t}return t=u,(n=[{key:"open",value:function(e,t){v(_(u.prototype),"open",this).call(this),this._popupFullPic.src=e,this._popupFullPic.alt=t,this._popupFigcaption.textContent=t}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(u);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===h(o)?o:String(o)),r)}var o}var g=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initialArray=r,this._renderer=o,this._container=n}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._initialArray.forEach((function(t){return e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==w(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===w(o)?o:String(o)),r)}var o}var E=function(){function e(t){var n=t.name,r=t.hobby;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._profileName=n,this._profileTitle=r}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._profileName.textContent,hobby:this._profileTitle.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.hobby;this._profileName.textContent=t,this._profileTitle.textContent=n}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===j(o)?o:String(o)),r)}var o}var O={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__save-button_disabled",errorClass:"popup__input-error_visible"},C=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formElement=n,this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._errorClass=t.errorClass,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));t.classList.add(this._errorClass),t.textContent=e.validationMessage}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));t.classList.remove(this._errorClass),t.textContent=e.validationMessage}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._formElement.addEventListener("reset",(function(){setTimeout((function(){e._toggleButtonState(),e._inputList.forEach((function(t){e._hideInputError(t)}))}),0)})),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),L=new g({items:[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],renderer:function(e){L.addItem(T({name:e.name,link:e.link}))}},document.querySelector(".elements__grid"));L.renderItems();var q=document.querySelector(".popup-img"),B=(q.querySelector(".popup-img__image"),q.querySelector(".popup-img__figcaption"),new d(q));function I(e,t){B.open(e,t)}function T(e){return new n({name:e.name,link:e.link},"#elements-list",I).generateCard()}B.setEventListeners();var R=document.querySelector(".popup-new-place"),x=document.querySelector(".profile__add-button"),F=(document.forms["place-form"],document.querySelector(".popup__input_type_place"),document.querySelector(".popup__input_type_link"),new f(R,{handleFormSubmit:function(e){L.addItem(T(e))}}));F.setEventListeners();var V=document.querySelector(".profile__edit-button"),D=document.querySelector(".popup-profile"),A=document.forms["profile-form"],N=A.querySelector(".popup__input_type_name"),U=A.querySelector(".popup__input_type_job"),M=new E({name:document.querySelector(".profile__title"),hobby:document.querySelector(".profile__subtitle")}),z=new f(D,{handleFormSubmit:function(e){M.setUserInfo(e)}});z.setEventListeners(),V.addEventListener("click",(function(){var e=M.getUserInfo(),t=e.name,n=e.hobby;N.value=t,U.value=n,z.open()})),x.addEventListener("click",(function(){F.open()})),new C(O,D).enableValidation(),new C(O,R).enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguMDA1NmE2NTdlZGRkMTE1MTFlMGMuanMiLCJtYXBwaW5ncyI6InNyQkFBTyxJQUFNQSxFQUFJLFdBQ2YsV0FBWUMsRUFBTUMsRUFBVUMsSSw0RkFBaUIsU0FDM0NDLEtBQUtDLE1BQVFKLEVBQUtLLEtBQ2xCRixLQUFLRyxNQUFRTixFQUFLTyxLQUNsQkosS0FBS0ssVUFBWVAsRUFDakJFLEtBQUtNLGlCQUFtQlAsQ0FDMUIsQyxRQXFFQyxPLEVBbkVELEcsRUFBQSxnQ0FDQSxXQUNFQyxLQUFLTyxTQUFTQyxRQUNoQixHQUFDLDBCQUVELFdBTUUsT0FMd0JDLFNBQ3JCQyxjQUFjVixLQUFLSyxXQUNuQk0sUUFBUUQsY0FBYyxZQUN0QkUsV0FBVSxFQUdmLEdBQUMsMEJBRUQsV0E0QkUsT0F6QkFaLEtBQUtPLFNBQVdQLEtBQUthLGVBR3JCYixLQUFLYyxjQUFnQmQsS0FBS08sU0FBU0csY0FBYyxtQkFFakRWLEtBQUtjLGNBQWNDLElBQU1mLEtBQUtHLE1BQzlCSCxLQUFLYyxjQUFjRSxJQUFNaEIsS0FBS0MsTUFFOUJELEtBQUtPLFNBQVNHLGNBQWMsbUJBQW1CTyxZQUFjakIsS0FBS0MsTUFHbEVELEtBQUtrQixZQUFjbEIsS0FBS08sU0FBU0csY0FBYyx5QkFHL0NWLEtBQUttQixrQkFBb0JuQixLQUFLTyxTQUFTRyxjQUNyQywyQkFJRlYsS0FBS29CLHdCQUNIcEIsS0FBS08sU0FBU0csY0FBYyxxQkFFOUJWLEtBQUtxQixxQkFHRXJCLEtBQUtPLFFBQ2QsR0FFQSx5QkFDQSxXQUNFUCxLQUFLa0IsWUFBWUksVUFBVUMsT0FBTyw4QkFDcEMsR0FFQSxnQ0FFQSxXQUFxQixXQUVuQnZCLEtBQUtrQixZQUFZTSxpQkFBaUIsU0FBUyxXQUN6QyxFQUFLQyxhQUNQLElBR0F6QixLQUFLb0Isd0JBQXdCSSxpQkFBaUIsU0FBUyxXQUNyRCxFQUFLbEIsaUJBQWlCLEVBQUtILE1BQU8sRUFBS0YsTUFDekMsSUFHQUQsS0FBS21CLGtCQUFrQkssaUJBQWlCLFNBQVMsV0FDL0MsRUFBS0UsbUJBQ1AsR0FDRixNLG9FQUFDLEVBM0VjLEcsa3JCQ0FWLElBQU1DLEVBQUssV0FDaEIsV0FBWUMsR0FBTyxJLE1BQUEsUSw0RkFBQSxTLEVBQUEsSyxFQWlCRCxTQUFDQyxHQUNELFdBQVpBLEVBQUlDLEtBQ04sRUFBS0MsT0FFVCxHLE1BckJtQixzQix3RkFDakIvQixLQUFLZ0MsT0FBU0osQ0FDaEIsQyxRQWtDQyxPLEVBaENELEcsRUFBQSxtQkFDQSxXQUNFNUIsS0FBS2dDLE9BQU9WLFVBQVVXLElBQUksZ0JBQzFCeEIsU0FBU2UsaUJBQWlCLFVBQVd4QixLQUFLa0MsZ0JBQzVDLEdBRUEsbUJBQ0EsV0FDRWxDLEtBQUtnQyxPQUFPVixVQUFVZCxPQUFPLGdCQUM3QkMsU0FBUzBCLG9CQUFvQixVQUFXbkMsS0FBS2tDLGdCQUMvQyxHQUVBLCtCQVNBLFdBQW9CLFdBRWxCbEMsS0FBS29DLGtCQUFvQnBDLEtBQUtnQyxPQUFPdEIsY0FBYyx3QkFDbkRWLEtBQUtvQyxrQkFBa0JaLGlCQUFpQixTQUFTLGtCQUFNLEVBQUtPLE9BQU8sSUFHbkUvQixLQUFLZ0MsT0FBT1IsaUJBQWlCLGFBQWEsU0FBQ0ssR0FDckNBLEVBQUlRLE9BQU9mLFVBQVVnQixTQUFTLGlCQUNoQyxFQUFLUCxPQUVULEdBQ0YsTSxvRUFBQyxFQXJDZSxHLGd2Q0NFWCxJQUFNUSxFQUFhLGEscVJBQUEsVSxRQUFBLEcsRUFBQSxFLHFyQkFDeEIsV0FBWVgsRUFBTyxHQUFzQixNQUFwQlksRUFBZ0IsRUFBaEJBLGlCQUl1QyxPLDRGQUp2QixVQUNuQyxjQUFNWixJQUNEYSxrQkFBb0JELEVBQ3pCLEVBQUtFLE1BQVFkLEVBQU1sQixjQUFjLGdCQUNqQyxFQUFLaUMsV0FBYWYsRUFBTWdCLGlCQUFpQixpQkFBaUIsQ0FDNUQsQ0FzQkMsTyxFQXRCQSxHLEVBQUEsOEJBQ0QsV0FBa0IsV0FNaEIsT0FMQTVDLEtBQUs2QyxZQUFjLENBQUMsRUFDcEI3QyxLQUFLMkMsV0FBV0csU0FBUSxTQUFDQyxHQUN2QixFQUFLRixZQUFZRSxFQUFNN0MsTUFBUTZDLEVBQU1DLEtBQ3ZDLElBRU9oRCxLQUFLNkMsV0FDZCxHQUFDLCtCQUVELFdBQW9CLFdBQ2xCLHNEQUNBN0MsS0FBS2dDLE9BQU9SLGlCQUFpQixVQUFVLFNBQUNLLEdBQ3RDQSxFQUFJb0IsaUJBQ0osRUFBS1Isa0JBQWtCLEVBQUtTLG1CQUM1QixFQUFLbkIsT0FDUCxHQUNGLEdBQUMsbUJBRUQsV0FDRSwwQ0FDQS9CLEtBQUswQyxNQUFNUyxPQUNiLE0sb0VBQUMsRUE1QnVCLENBQVN4QixHLGd2Q0NBNUIsSUFBTXlCLEVBQWMsYSxxUkFBQSxVLFFBQUEsRyxFQUFBLEUscXJCQUN6QixXQUFZeEIsR0FBTyxNQUdxRCxPLDRGQUhyRCxVQUNqQixjQUFNQSxJQUNEeUIsY0FBZ0J6QixFQUFNbEIsY0FBYyxxQkFDekMsRUFBSzRDLGlCQUFtQjFCLEVBQU1sQixjQUFjLDBCQUEwQixDQUN4RSxDQU9DLE8sRUFQQSxHLEVBQUEsbUJBRUQsU0FBS04sRUFBTUYsR0FDVCx5Q0FDQUYsS0FBS3FELGNBQWN0QyxJQUFNWCxFQUN6QkosS0FBS3FELGNBQWNyQyxJQUFNZCxFQUN6QkYsS0FBS3NELGlCQUFpQnJDLFlBQWNmLENBQ3RDLE0sb0VBQUMsRUFad0IsQ0FBU3lCLEcsbXFCQ0Y3QixJQUFNNEIsRUFBTyxXQUNsQixhQUFpQ0MsR0FBVyxJQUE5QkMsRUFBSyxFQUFMQSxNQUFPQyxFQUFRLEVBQVJBLFUsNEZBQVEsU0FDM0IxRCxLQUFLMkQsY0FBZ0JGLEVBQ3JCekQsS0FBSzRELFVBQVlGLEVBQ2pCMUQsS0FBSzZELFdBQWFMLENBQ3BCLEMsUUFVQyxPLEVBVkEsRyxFQUFBLDBCQUVELFdBQWMsV0FDWnhELEtBQUsyRCxjQUFjYixTQUFRLFNBQUNnQixHQUFJLE9BQUssRUFBS0YsVUFBVUUsRUFBSyxHQUMzRCxHQUVBLHFCQUVBLFNBQVFDLEdBQ04vRCxLQUFLNkQsV0FBV0csUUFBUUQsRUFDMUIsTSxvRUFBQyxFQWZpQixHLG1xQkNBYixJQUFNRSxFQUFRLFdBQ25CLGNBQTZCLElBQWYvRCxFQUFJLEVBQUpBLEtBQU1nRSxFQUFLLEVBQUxBLE8sNEZBQUssU0FDdkJsRSxLQUFLbUUsYUFBZWpFLEVBQ3BCRixLQUFLb0UsY0FBZ0JGLENBQ3ZCLEMsUUFjQyxPLEVBZEEsRyxFQUFBLDBCQUVELFdBS0UsTUFKaUIsQ0FDZmhFLEtBQU1GLEtBQUttRSxhQUFhbEQsWUFDeEJpRCxNQUFPbEUsS0FBS29FLGNBQWNuRCxZQUc5QixHQUFDLHlCQUVELFNBQVlvRCxHQUNWLElBQVFuRSxFQUFnQm1FLEVBQWhCbkUsS0FBTWdFLEVBQVVHLEVBQVZILE1BQ2RsRSxLQUFLbUUsYUFBYWxELFlBQWNmLEVBQ2hDRixLQUFLb0UsY0FBY25ELFlBQWNpRCxDQUNuQyxNLG9FQUFDLEVBbEJrQixHLG1xQkNBZCxJQUFNSSxFQUFtQixDQUU5QkMsYUFBYyxlQUNkQyxjQUFlLGdCQUNmQyxxQkFBc0Isc0JBQ3RCQyxvQkFBcUIsOEJBQ3JCQyxXQUFZLDhCQUdEQyxFQUFhLFdBRXhCLFdBQVlOLEVBQWtCTyxJLDRGQUFhLFNBQ3pDN0UsS0FBSzhFLGFBQWVELEVBQ3BCN0UsS0FBSytFLGNBQWdCVCxFQUFpQkMsYUFDdEN2RSxLQUFLZ0YsZUFBaUJWLEVBQWlCRSxjQUN2Q3hFLEtBQUtpRixzQkFBd0JYLEVBQWlCRyxxQkFDOUN6RSxLQUFLa0YscUJBQXVCWixFQUFpQkksb0JBQzdDMUUsS0FBS21GLFlBQWNiLEVBQWlCSyxXQUNwQzNFLEtBQUsyQyxXQUFheUMsTUFBTUMsS0FDdEJyRixLQUFLOEUsYUFBYWxDLGlCQUFpQjVDLEtBQUtnRixpQkFFMUNoRixLQUFLc0YsZUFBaUJ0RixLQUFLOEUsYUFBYXBFLGNBQ3RDVixLQUFLaUYsc0JBRVQsQyxRQW9GQyxPLEVBbEZELEcsRUFBQSw4QkFFQSxTQUFnQk0sR0FDZCxJQUFNQyxFQUFleEYsS0FBSzhFLGFBQWFwRSxjQUFjLElBQUQsT0FDOUM2RSxFQUFhRSxHQUFFLFdBR3JCRCxFQUFhbEUsVUFBVVcsSUFBSWpDLEtBQUttRixhQUNoQ0ssRUFBYXZFLFlBQWNzRSxFQUFhRyxpQkFDMUMsR0FFQSw2QkFFQSxTQUFnQkgsR0FDZCxJQUFNQyxFQUFleEYsS0FBSzhFLGFBQWFwRSxjQUFjLElBQUQsT0FDOUM2RSxFQUFhRSxHQUFFLFdBR3JCRCxFQUFhbEUsVUFBVWQsT0FBT1IsS0FBS21GLGFBQ25DSyxFQUFhdkUsWUFBY3NFLEVBQWFHLGlCQUMxQyxHQUVBLGlDQUVBLFNBQW9CSCxHQUNkQSxFQUFhSSxTQUFTQyxNQUN4QjVGLEtBQUs2RixnQkFBZ0JOLEdBRXJCdkYsS0FBSzhGLGdCQUFnQlAsRUFFekIsR0FJQSw4QkFFQSxXQUNFLE9BQU92RixLQUFLMkMsV0FBV29ELE1BQUssU0FBQ1IsR0FBWSxPQUFNQSxFQUFhSSxTQUFTQyxLQUFLLEdBQzVFLEdBRUEsZ0NBRUEsV0FDTTVGLEtBQUtnRyxvQkFFUGhHLEtBQUtzRixlQUFlaEUsVUFBVVcsSUFBSWpDLEtBQUtrRixzQkFDdkNsRixLQUFLc0YsZUFBZVcsVUFBVyxJQUcvQmpHLEtBQUtzRixlQUFlaEUsVUFBVWQsT0FBT1IsS0FBS2tGLHNCQUMxQ2xGLEtBQUtzRixlQUFlVyxVQUFXLEVBRW5DLEdBRUEsZ0NBRUEsV0FBcUIsV0FFbkJqRyxLQUFLa0cscUJBRUxsRyxLQUFLOEUsYUFBYXRELGlCQUFpQixTQUFTLFdBRTFDMkUsWUFBVyxXQUNULEVBQUtELHFCQUNMLEVBQUt2RCxXQUFXRyxTQUFRLFNBQUN5QyxHQUN2QixFQUFLTSxnQkFBZ0JOLEVBQ3ZCLEdBQ0YsR0FBRyxFQUNMLElBRUF2RixLQUFLMkMsV0FBV0csU0FBUSxTQUFDeUMsR0FDdkJBLEVBQWEvRCxpQkFBaUIsU0FBUyxXQUNyQyxFQUFLNEUsb0JBQW9CYixHQUN6QixFQUFLVyxvQkFDUCxHQUNGLEdBQ0YsR0FFQSw4QkFFQSxXQUNFbEcsS0FBS3FCLG9CQUNQLE0sb0VBQUMsRUFuR3VCLEdDT3BCZ0YsRUFBZSxJQUFJOUMsRUFDdkIsQ0FDRUUsTUNsQndCLENBQ3hCLENBQ0V2RCxLQUFNLFFBQ05FLEtBQU0saUZBRVIsQ0FDRUYsS0FBTSxzQkFDTkUsS0FBTSw2RkFFUixDQUNFRixLQUFNLFVBQ05FLEtBQU0sa0ZBRVIsQ0FDRUYsS0FBTSxXQUNORSxLQUFNLG9GQUVSLENBQ0VGLEtBQU0scUJBQ05FLEtBQU0sNkZBRVIsQ0FDRUYsS0FBTSxTQUNORSxLQUFNLGtGREpSc0QsU0FBVSxTQUFDSSxHQUNUdUMsRUFBYUMsUUFBUUMsRUFBYyxDQUFFckcsS0FBTTRELEVBQUs1RCxLQUFNRSxLQUFNMEQsRUFBSzFELE9BQ25FLEdBUHFCSyxTQUFTQyxjQUFjLG9CQVloRDJGLEVBQWFHLGNBSWIsSUFBTUMsRUFBV2hHLFNBQVNDLGNBQWMsY0FHbENnRyxHQUZlRCxFQUFTL0YsY0FBYyxxQkFDcEIrRixFQUFTL0YsY0FBYywwQkFDeEIsSUFBSTBDLEVBQWVxRCxJQUkxQyxTQUFTMUcsRUFBZ0JLLEVBQU1GLEdBQzdCd0csRUFBZUMsS0FBS3ZHLEVBQU1GLEVBQzVCLENBTUEsU0FBU3FHLEVBQWN6QyxHQVNyQixPQVBhLElBQUlsRSxFQUNmLENBQUVNLEtBQU00RCxFQUFLNUQsS0FBTUUsS0FBTTBELEVBQUsxRCxNQUM5QixpQkFDQUwsR0FHdUI2RyxjQUUzQixDQWRBRixFQUFlRyxvQkFrQmYsSUFBTUMsRUFBZ0JyRyxTQUFTQyxjQUFjLG9CQUN2Q3FHLEVBQWlCdEcsU0FBU0MsY0FBYyx3QkFNeENzRyxHQUxvQnZHLFNBQVN3RyxNQUFNLGNBQ2J4RyxTQUFTQyxjQUFjLDRCQUN2QkQsU0FBU0MsY0FBYywyQkFHM0IsSUFBSTZCLEVBQWN1RSxFQUFlLENBQ3ZEdEUsaUJBQWtCLFNBQUNzQixHQUNqQnVDLEVBQWFDLFFBQVFDLEVBQWN6QyxHQUNyQyxLQUdGa0QsRUFBZ0JILG9CQUloQixJQUFNSyxFQUF5QnpHLFNBQVNDLGNBQWMseUJBQ2hEeUcsRUFBZTFHLFNBQVNDLGNBQWMsa0JBQ3RDMEcsRUFBMEIzRyxTQUFTd0csTUFBTSxnQkFDekNJLEVBQXdCRCxFQUF3QjFHLGNBQ3BELDJCQUVJNEcsRUFBeUJGLEVBQXdCMUcsY0FDckQsMEJBT0k2RyxFQUFXLElBQUl0RCxFQUFTLENBQUUvRCxLQUpaTyxTQUFTQyxjQUFjLG1CQUlRd0QsTUFIOUJ6RCxTQUFTQyxjQUFjLHdCQU10QzhHLEVBQW1CLElBQUlqRixFQUFjNEUsRUFBYyxDQUN2RDNFLGlCQUFrQixTQUFDNkIsR0FDakJrRCxFQUFTRSxZQUFZcEQsRUFDdkIsSUFFRm1ELEVBQWlCWCxvQkFJakJLLEVBQXVCMUYsaUJBQWlCLFNBQVMsV0FDL0MsTUFBd0IrRixFQUFTRyxjQUF6QnhILEVBQUksRUFBSkEsS0FBTWdFLEVBQUssRUFBTEEsTUFFZG1ELEVBQXNCckUsTUFBUTlDLEVBQzlCb0gsRUFBdUJ0RSxNQUFRa0IsRUFFL0JzRCxFQUFpQmIsTUFDbkIsSUFJQUksRUFBZXZGLGlCQUFpQixTQUFTLFdBQ3ZDd0YsRUFBZ0JMLE1BQ2xCLElBSStCLElBQUkvQixFQUNqQ04sRUFDQTZDLEdBRXFCUSxtQkFJUyxJQUFJL0MsRUFDbENOLEVBQ0F3QyxHQUVzQmEsa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvSW5pdGlhbENhcmRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhLCB0ZW1wbGF0ZSwgaGFuZGxlQ2FyZENsaWNrKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX3RlbXBsYXRlID0gdGVtcGxhdGU7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgfVxyXG5cclxuICAvLyDQpNGD0L3QutGG0LjRjyDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcclxuICBfaGFuZGxlUmVtb3ZlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBlbGVtZW50VGVtcGxhdGUgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZSlcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50XCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgcmV0dXJuIGVsZW1lbnRUZW1wbGF0ZTtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIC8vINCX0LDQv9C40YjQtdC8INGA0LDQt9C80LXRgtC60YMg0LIg0L/RgNC40LLQsNGC0L3QvtC1INC/0L7Qu9C1IF9lbGVtZW50LlxyXG4gICAgLy8g0KLQsNC6INGDINC00YDRg9Cz0LjRhSDRjdC70LXQvNC10L3RgtC+0LIg0L/QvtGP0LLQuNGC0YHRjyDQtNC+0YHRgtGD0L8g0Log0L3QtdC5LlxyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcblxyXG4gICAgLy8g0JTQvtCx0LDQstC70Y/QtdC8INC00LDQvdC90YvQtVxyXG4gICAgdGhpcy5fZWxlbWVudEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2ltYWdlXCIpO1xyXG5cclxuICAgIHRoaXMuX2VsZW1lbnRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fZWxlbWVudEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XHJcblxyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3RpdGxlXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICAvLyDQmtC90L7Qv9C60LAg0LvQsNC50LpcclxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbGlrZS1idXR0b25cIik7XHJcblxyXG4gICAgLy8g0JrQvdC+0L/QutCwINGD0LTQsNC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxyXG4gICAgdGhpcy5fY2FyZERlbGV0ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIuZWxlbWVudF9fZGVsZXRlLWJ1dHRvblwiXHJcbiAgICApO1xyXG5cclxuICAgIC8vINCa0L3QvtC/0LrQsCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDQutCw0YDRgtC40L3QutC4INC90LAg0LLQtdGB0Ywg0Y3QutGA0LDQvVxyXG4gICAgdGhpcy5fZnVsbFBpY3R1cmVQb3B1cEJ1dHRvbiA9XHJcbiAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZnAtYnV0dG9uXCIpO1xyXG5cclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7IC8vINCQ0LrRgtC40LLQuNGA0YPQtdC8INGB0LvRg9GI0LDRgtC10LvQuCDQvdCwINC60LDRgNGC0L7Rh9C60LVcclxuXHJcbiAgICAvLyDQktC+0LfQstGA0LDRidCw0LXQvCDQs9C+0YLQvtCy0YPRjiDQutCw0YDRgtC+0YfQutGDXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIC8vINCg0LDQsdC+0YLQsCDQmtC90L7Qv9C60Lgg0LvQsNC50LpcclxuICBfdG9nZ2xlTGlrZSgpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIC8vINCh0LvRg9GI0LDRgtC10LvQuFxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAvLyDQn9C10YDQtdC60LvRjtGH0LXQvdC40LUgXCLQu9Cw0LnQutCwXCIg0L/QviDQutC70LjQutGDXHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX3RvZ2dsZUxpa2UoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vINCe0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwINC60LDRgNGC0LjQvdC60Lgg0L3QsCDQstC10YHRjCDRjdC60YDQsNC9XHJcbiAgICB0aGlzLl9mdWxsUGljdHVyZVBvcHVwQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9saW5rLCB0aGlzLl9uYW1lKTsgLy8g0L7QsdGA0LDQsdC+0YLRh9C40Log0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0L3QsCDQstC10YHRjCDRjdC60YDQsNC9INGE0YPQvdC60YbQuNC4IEhhbmRsZUNhcmRDbGlja1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g0KPQtNCw0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4XHJcbiAgICB0aGlzLl9jYXJkRGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZVJlbW92ZUNhcmQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IHBvcHVwO1xyXG4gIH1cclxuXHJcbiAgLy8g0J7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LBcclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTsgLy/QtNC+0LHQsNCy0LvRj9C10Lwg0L/QtdGA0LXQtNCw0L3QvdC+0LzRgyDQv9C+0L/QsNC/0YMg0LrQu9Cw0YHRgSBwb3B1cF9vcGVuZWRcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIC8vINCX0LDQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpOyAvL9GD0LTQsNC70Y/QtdC8INGDINC/0LXRgNC10LTQsNC90L3QvtCz0L4g0L/QvtC/0LDQv9CwINC60LvQsNGB0YEgcG9wdXBfb3BlbmVkXHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICAvLyDQl9Cw0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDQvdCw0LbQsNGC0LjQtdC8INC90LAgRXNjYXBlXHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vINCh0LvRg9GI0LDRgtC10LvQuFxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIC8vINCX0LDQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwINC90LDQttCw0YLQuNC10Lwg0L3QsCDQutGA0LXRgdGC0LjQulxyXG4gICAgdGhpcy5fcG9wdXBDbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX3BvcHVwQ2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuY2xvc2UoKSk7XHJcblxyXG4gICAgLy8g0JfQsNC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0L3QsNC20LDRgtC40LXQvCDQvdCwIGJhY2tncm91bmRcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xyXG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9vcGVuZWRcIikpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cCwgeyBoYW5kbGVGb3JtU3VibWl0IH0pIHtcclxuICAgIHN1cGVyKHBvcHVwKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fZm9ybSA9IHBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBwb3B1cC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKTtcclxuICB9XHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwKSB7XHJcbiAgICBzdXBlcihwb3B1cCk7XHJcbiAgICB0aGlzLl9wb3B1cEZ1bGxQaWMgPSBwb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWltZ19faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9wb3B1cEZpZ2NhcHRpb24gPSBwb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWltZ19fZmlnY2FwdGlvblwiKTtcclxuICB9XHJcblxyXG4gIG9wZW4obGluaywgbmFtZSkge1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gICAgdGhpcy5fcG9wdXBGdWxsUGljLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9wb3B1cEZ1bGxQaWMuYWx0ID0gbmFtZTtcclxuICAgIHRoaXMuX3BvcHVwRmlnY2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXIpIHtcclxuICAgIHRoaXMuX2luaXRpYWxBcnJheSA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5faW5pdGlhbEFycmF5LmZvckVhY2goKGl0ZW0pID0+IHRoaXMuX3JlbmRlcmVyKGl0ZW0pKTtcclxuICB9XHJcblxyXG4gIC8vINCU0L7QsdCw0LLQu9C10L3QuNC1INGN0LvQtdC80LXQvdGC0LBcclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGhvYmJ5IH0pIHtcclxuICAgIHRoaXMuX3Byb2ZpbGVOYW1lID0gbmFtZTtcclxuICAgIHRoaXMuX3Byb2ZpbGVUaXRsZSA9IGhvYmJ5O1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IHtcclxuICAgICAgbmFtZTogdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGhvYmJ5OiB0aGlzLl9wcm9maWxlVGl0bGUudGV4dENvbnRlbnQsXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHVzZXJEYXRhO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8odXNlckRhdGEpIHtcclxuICAgIGNvbnN0IHsgbmFtZSwgaG9iYnkgfSA9IHVzZXJEYXRhO1xyXG4gICAgdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fcHJvZmlsZVRpdGxlLnRleHRDb250ZW50ID0gaG9iYnk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG4gIC8vINCh0L7Qt9C00LDQtdC8INC4INGB0YDQsNC30YMg0Y3QutGB0L/QvtGA0YLQuNGA0YPQtdC8XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fc2F2ZS1idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19zYXZlLWJ1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0LWVycm9yX3Zpc2libGVcIixcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICAvLyDQodC+0LfQtNCw0LXQvCDQuCDRgdGA0LDQt9GDINGN0LrRgdC/0L7RgNGC0LjRgNGD0LXQvFxyXG4gIGNvbnN0cnVjdG9yKHZhbGlkYXRpb25Db25maWcsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gdmFsaWRhdGlvbkNvbmZpZy5mb3JtU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gdmFsaWRhdGlvbkNvbmZpZy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSB2YWxpZGF0aW9uQ29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSB2YWxpZGF0aW9uQ29uZmlnLmVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8g0JTQvtCx0LDQstC70Y/QtdC8INC60LvQsNGB0YEg0YEg0L7RiNC40LHQutC+0LlcclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG5cclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gIH1cclxuXHJcbiAgLy8g0YPQtNCw0LvRj9C10Lwg0LrQu9Cw0YHRgSDRgSDQvtGI0LjQsdC60L7QuSwg0L7Rh9C40YnQsNC10Lwg0L/QvtC70Y9cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG5cclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gIH1cclxuXHJcbiAgLy8g0J/RgNC+0LLQtdGA0LXQvCDQstCw0LvQuNC00L3QvtGB0YLRjCDQstCy0LXQtNC10L3QvdGL0YUg0LTQsNC90L3Ri9GFIC0g0L/QvtC60LDQt9GL0LLQsNC10Lwv0YPQtNCw0LvRj9C10Lwg0L7RiNC40LHQutGDXHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g0JLQutC70Y7Rh9C10L3QuNC1L9Cy0YvQutC70Y7Rh9C10L3QuNC1INC60L3QvtC/0LrQuCBzdWJtaXRcclxuXHJcbiAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INC90LDQu9C40YfQuNC1INC90LXQutC+0YDRgNC10LrRgtC90YvRhSDQuNC90L/Rg9GC0L7QslxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xyXG4gIH1cclxuXHJcbiAgLy8g0J/QtdGA0LXQutC70Y7Rh9Cw0LXQvCDRgdC+0YHRgtC+0Y/QvdC40LUg0LrQvdC+0L/QutC4INGBINCw0LrRgtC40LLQvdC+0Lkg0L3QsCDQvdC10LDQutGC0LjQstC90YPRjlxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgLy8g0L3QtdCw0LrRgtC40LLQvdCw0Y8g0LrQvdC+0L/QutCwXHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyDQsNC60YLQuNCy0L3QsNGPINC60L3QvtC/0LrQsFxyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vINCh0LvRg9GI0LDRgtC10LvQuFxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAvLyDQtNC10LDQutGC0LjQstC40YDRg9C10Lwg0LrQvdC+0L/QutGDINC/0YDQuCAx0Lkg0LfQsNCz0YDRg9C30LrQtSDRgdCw0LnRgtCwXHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG5cclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNldFwiLCAoKSA9PiB7XHJcbiAgICAgIC8vIGBzZXRUaW1lb3V0YCDQvdGD0LbQtdC9INC00LvRjyDRgtC+0LPQviwg0YfRgtC+0LHRiyDQtNC+0LbQtNCw0YLRjNGB0Y8g0L7Rh9C40YnQtdC90LjRjyDRhNC+0YDQvNGLICjQstGL0LfQvtCyINGD0LnQtNC10YIg0LIg0LrQvtC90YbQtSDRgdGC0Y3QutCwKSDQuCDRgtC+0LvRjNC60L4g0L/QvtGC0L7QvCDQstGL0LfQstCw0YLRjCBgdG9nZ2xlQnV0dG9uU3RhdGVgXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTsgLy8g0L7Rh9C40YnQsNC10Lwg0L7RiNC40LHQutC4XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sIDApOyAvLyDQtNC+0YHRgtCw0YLQvtGH0L3QviDRg9C60LDQt9Cw0YLRjCAwINC80LjQu9C70LjRgdC10LrRg9C90LQsINGH0YLQvtCx0Ysg0L/QvtGB0LvQtSBgcmVzZXRgINGD0LbQtSDRgdGA0LDQsdC+0YLQsNC70L4g0LTQtdC50YHRgtCy0LjQtVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g0JLQsNC70LjQtNCw0YbQuNGPXHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IHtcclxuICB2YWxpZGF0aW9uQ29uZmlnLFxyXG4gIEZvcm1WYWxpZGF0b3IsXHJcbn0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgeyBpbml0aWFsQ2FyZHMgfSBmcm9tIFwiLi4vdXRpbHMvSW5pdGlhbENhcmRzLmpzXCI7XHJcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7IC8vINC40LzQv9C+0YDRgtC40YDRg9C10LwgQ1NTINGE0LDQudC70Ysg0L/QtdGA0LXQtCDRgdC/PdCx0L7RgNC60L7QuSDQstC10LHQv9Cw0LrQvtC8XHJcblxyXG4vLyDQlNC+0LHQsNCy0LvRj9C10Lwg0L3QsNGH0LDQu9GM0L3Ri9C1INC60LDRgNGC0L7Rh9C60LhcclxuXHJcbmNvbnN0IGVsZW1lbnRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19ncmlkXCIpOyAvL3VsINC60YPQtNCwINC30LDQv9C40YHRi9Cy0LDQtdC8IGxpINGN0LvQtdC80LXQvdGC0YtcclxuXHJcbmNvbnN0IGVsZW1lbnRzTGlzdCA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIGl0ZW1zOiBpbml0aWFsQ2FyZHMsXHJcbiAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcclxuICAgICAgZWxlbWVudHNMaXN0LmFkZEl0ZW0oY3JlYXRlRWxlbWVudCh7IG5hbWU6IGl0ZW0ubmFtZSwgbGluazogaXRlbS5saW5rIH0pKTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBlbGVtZW50Q29udGFpbmVyXHJcbik7XHJcblxyXG5lbGVtZW50c0xpc3QucmVuZGVySXRlbXMoKTtcclxuXHJcbi8vINCa0L7QvdGB0YLQsNC90YLRiyDQv9C+0L/QsNC/0LAgLSDQutCw0YDRgtC40L3QutCwINCy0L4g0LLQtdGB0Ywg0Y3QutGA0LDQvVxyXG5cclxuY29uc3QgcG9wdXBJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWltZ1wiKTtcclxuY29uc3QgcG9wdXBGdWxsUGljID0gcG9wdXBJbWcucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1pbWdfX2ltYWdlXCIpO1xyXG5jb25zdCBwb3B1cEZpZ2NhcHRpb24gPSBwb3B1cEltZy5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWltZ19fZmlnY2FwdGlvblwiKTtcclxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBJbWcpO1xyXG5cclxuLy8g0KTRg9C90LrRhtC40Y8g0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0LrQsNGA0YLQuNC90LrQuCDQv9GA0Lgg0LrQu9C40LrQtSDQvdCwINC60LDRgNGC0L7Rh9C60YNcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljayhsaW5rLCBuYW1lKSB7XHJcbiAgcG9wdXBXaXRoSW1hZ2Uub3BlbihsaW5rLCBuYW1lKTtcclxufVxyXG5cclxucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vINCh0L7Qt9C00LDQvdC40LUg0Y3Qu9C10LzQtdC90YLQsFxyXG5cclxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudChpdGVtKSB7XHJcbiAgLy8g0KHQvtC30LTQsNC00LjQvCDRjdC60LfQtdC80L/Qu9GP0YAg0LrQsNGA0YLQvtGH0LrQuFxyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgIHsgbmFtZTogaXRlbS5uYW1lLCBsaW5rOiBpdGVtLmxpbmsgfSxcclxuICAgIFwiI2VsZW1lbnRzLWxpc3RcIixcclxuICAgIGhhbmRsZUNhcmRDbGlja1xyXG4gICk7XHJcbiAgLy8g0KHQvtC30LTQsNGR0Lwg0LrQsNGA0YLQvtGH0LrRgyDQuCDQstC+0LfQstGA0LDRidCw0LXQvCDQvdCw0YDRg9C20YNcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG59XHJcblxyXG4vLyDQmtC+0L3RgdGC0LDQvdGC0Ysg0L/QvtC/0LDQv9CwIFwi0J3QvtCy0L7QtSDQvNC10YHRgtC+XCJcclxuXHJcbmNvbnN0IHBvcHVwTmV3UGxhY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLW5ldy1wbGFjZVwiKTtcclxuY29uc3QgbmV3UGxhY2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcbmNvbnN0IHBvcHVwTmV3UGxhY2VGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJwbGFjZS1mb3JtXCJdOyAvLyDQndCw0YXQvtC00LjQvCDQv9C+IFwibmFtZVwiINGB0YDQtdC00Lgg0YTQvtGA0LwsINCwINC90LUg0L/QviDQstGB0LXQvNGDINC00L7QutGD0LzQtdC90YLRg1xyXG5jb25zdCBwb3B1cFBsYWNlTmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV9wbGFjZVwiKTtcclxuY29uc3QgcG9wdXBQbGFjZUxpbmtJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3R5cGVfbGlua1wiKTtcclxuXHJcbi8vINCd0L7QstGL0Lkg0LrQu9Cw0YHRgSBwb3B1cFdpdGhGb3JtINC00LvRjyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQvdC+0LLQvtCz0L4g0Y3Qu9C10LzQtdC90YLQsCAo0LrQsNGA0YLQvtGH0LrQuClcclxuY29uc3QgcG9wdXBBZGROZXdDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBOZXdQbGFjZSwge1xyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChpdGVtKSA9PiB7XHJcbiAgICBlbGVtZW50c0xpc3QuYWRkSXRlbShjcmVhdGVFbGVtZW50KGl0ZW0pKTtcclxuICB9LFxyXG59KTtcclxuXHJcbnBvcHVwQWRkTmV3Q2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8g0JrQvtC90YHRgtCw0L3RgtGLINC/0L7Qv9Cw0L/QsCDQv9GA0L7RhNC40LvRj1xyXG5cclxuY29uc3QgcG9wdXBQcm9maWxlT3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XHJcbmNvbnN0IHBvcHVwUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtcHJvZmlsZVwiKTtcclxuY29uc3QgcG9wdXBQcm9maWxlRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5mb3Jtc1tcInByb2ZpbGUtZm9ybVwiXTsgLy8g0J3QsNGF0L7QtNC40Lwg0L/QviBcIm5hbWVcIiDRgdGA0LXQtNC4INGE0L7RgNC8LCDQsCDQvdC1INC/0L4g0LLRgdC10LzRgyDQtNC+0LrRg9C80LXQvdGC0YNcclxuY29uc3QgcG9wdXBQcm9maWxlTmFtZUlucHV0ID0gcG9wdXBQcm9maWxlRm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5wb3B1cF9faW5wdXRfdHlwZV9uYW1lXCJcclxuKTtcclxuY29uc3QgcG9wdXBQcm9maWxlVGl0bGVJbnB1dCA9IHBvcHVwUHJvZmlsZUZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucG9wdXBfX2lucHV0X3R5cGVfam9iXCJcclxuKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX190aXRsZVwiKTtcclxuY29uc3QgcHJvZmlsZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19zdWJ0aXRsZVwiKTtcclxuXHJcbi8vINCd0L7QstGL0Lkg0LrQu9Cw0YHRgSB1c2VySW5mbyDRgSDQtNCw0L3QvdGL0LzQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oeyBuYW1lOiBwcm9maWxlTmFtZSwgaG9iYnk6IHByb2ZpbGVUaXRsZSB9KTtcclxuXHJcbi8vINCd0L7QstGL0Lkg0LrQu9Cw0YHRgSBwb3B1cFdpdGhGb3JtINC00LvRjyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHBvcHVwRWRpdFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cFByb2ZpbGUsIHtcclxuICBoYW5kbGVGb3JtU3VibWl0OiAodXNlckRhdGEpID0+IHtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhKTtcclxuICB9LFxyXG59KTtcclxucG9wdXBFZGl0UHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8g0KHQu9GD0YjQsNGC0LXQu9GMINC60L3QvtC/0LrQuCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXHJcblxyXG5wb3B1cFByb2ZpbGVPcGVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY29uc3QgeyBuYW1lLCBob2JieSB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuXHJcbiAgcG9wdXBQcm9maWxlTmFtZUlucHV0LnZhbHVlID0gbmFtZTtcclxuICBwb3B1cFByb2ZpbGVUaXRsZUlucHV0LnZhbHVlID0gaG9iYnk7XHJcblxyXG4gIHBvcHVwRWRpdFByb2ZpbGUub3BlbigpO1xyXG59KTtcclxuXHJcbi8vINCh0LvRg9GI0LDRgtC10LvRjCDQutC90L7Qv9C60Lgg0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0L3QvtCy0L7Qs9C+INGN0LvQtdC80LXQvdGC0LAgKNC60LDRgNGC0L7Rh9C60LgpXHJcblxyXG5uZXdQbGFjZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gIHBvcHVwQWRkTmV3Q2FyZC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuLy8g0JLQsNC70LjQtNCw0YbQuNGPINC/0LXRgNCy0L7Qs9C+INC/0L7Qv9Cw0L/QsCAo0L/RgNC+0YTQuNC70YwpXHJcblxyXG5jb25zdCBwb3B1cFByb2ZpbGVWYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgdmFsaWRhdGlvbkNvbmZpZyxcclxuICBwb3B1cFByb2ZpbGVcclxuKTtcclxucG9wdXBQcm9maWxlVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vLyDQktCw0LvQuNC00LDRhtC40Y8g0LLRgtC+0YDQvtCz0L4g0L/QvtC/0LDQv9CwICjQvdC+0LLQvtC1INC80LXRgdGC0L4pXHJcblxyXG5jb25zdCBwb3B1cE5ld1BsYWNlVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIHZhbGlkYXRpb25Db25maWcsXHJcbiAgcG9wdXBOZXdQbGFjZVxyXG4pO1xyXG5wb3B1cE5ld1BsYWNlVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiIsImV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwi0JDRgNGF0YvQt1wiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9hcmtoeXouanBnXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcItCn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YxcIixcclxuICAgICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvY2hlbHlhYmluc2stb2JsYXN0LmpwZ1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogXCLQmNCy0LDQvdC+0LLQvlwiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9pdmFub3ZvLmpwZ1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogXCLQmtCw0LzRh9Cw0YLQutCwXCIsXHJcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2thbWNoYXRrYS5qcGdcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwi0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L1cIixcclxuICAgICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2hvbG1vZ29yc2t5LXJheW9uLmpwZ1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogXCLQkdCw0LnQutCw0LtcIixcclxuICAgICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYmFpa2FsLmpwZ1wiLFxyXG4gICAgfSxcclxuICBdOyJdLCJuYW1lcyI6WyJDYXJkIiwiZGF0YSIsInRlbXBsYXRlIiwiaGFuZGxlQ2FyZENsaWNrIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl90ZW1wbGF0ZSIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfZWxlbWVudCIsInJlbW92ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZ2V0VGVtcGxhdGUiLCJfZWxlbWVudEltYWdlIiwic3JjIiwiYWx0IiwidGV4dENvbnRlbnQiLCJfbGlrZUJ1dHRvbiIsIl9jYXJkRGVsZXRlQnV0dG9uIiwiX2Z1bGxQaWN0dXJlUG9wdXBCdXR0b24iLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX3RvZ2dsZUxpa2UiLCJfaGFuZGxlUmVtb3ZlQ2FyZCIsIlBvcHVwIiwicG9wdXAiLCJldnQiLCJrZXkiLCJjbG9zZSIsIl9wb3B1cCIsImFkZCIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfcG9wdXBDbG9zZUJ1dHRvbiIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtIiwiX2lucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfZm9ybVZhbHVlcyIsImZvckVhY2giLCJpbnB1dCIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlBvcHVwV2l0aEltYWdlIiwiX3BvcHVwRnVsbFBpYyIsIl9wb3B1cEZpZ2NhcHRpb24iLCJTZWN0aW9uIiwiY29udGFpbmVyIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pbml0aWFsQXJyYXkiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiVXNlckluZm8iLCJob2JieSIsIl9wcm9maWxlTmFtZSIsIl9wcm9maWxlVGl0bGUiLCJ1c2VyRGF0YSIsInZhbGlkYXRpb25Db25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZXJyb3JDbGFzcyIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtRWxlbWVudCIsIl9mb3JtRWxlbWVudCIsIl9mb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJBcnJheSIsImZyb20iLCJfYnV0dG9uRWxlbWVudCIsImlucHV0RWxlbWVudCIsImVycm9yRWxlbWVudCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwic29tZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsInNldFRpbWVvdXQiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiZWxlbWVudHNMaXN0IiwiYWRkSXRlbSIsImNyZWF0ZUVsZW1lbnQiLCJyZW5kZXJJdGVtcyIsInBvcHVwSW1nIiwicG9wdXBXaXRoSW1hZ2UiLCJvcGVuIiwiZ2VuZXJhdGVDYXJkIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJwb3B1cE5ld1BsYWNlIiwibmV3UGxhY2VCdXR0b24iLCJwb3B1cEFkZE5ld0NhcmQiLCJmb3JtcyIsInBvcHVwUHJvZmlsZU9wZW5CdXR0b24iLCJwb3B1cFByb2ZpbGUiLCJwb3B1cFByb2ZpbGVGb3JtRWxlbWVudCIsInBvcHVwUHJvZmlsZU5hbWVJbnB1dCIsInBvcHVwUHJvZmlsZVRpdGxlSW5wdXQiLCJ1c2VySW5mbyIsInBvcHVwRWRpdFByb2ZpbGUiLCJzZXRVc2VySW5mbyIsImdldFVzZXJJbmZvIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=